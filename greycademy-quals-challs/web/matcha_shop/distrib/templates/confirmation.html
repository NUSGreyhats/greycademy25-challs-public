{% extends 'base.html' %}

{% block content %}
<div class="container py-5 text-center">
    <div class="row justify-content-center">
        <div class="col-md-8 col-lg-6">
            <div class="card border-0 shadow-sm p-5">
                <div class="mb-4 text-success">
                    <svg xmlns="http://www.w3.org/2000/svg" width="80" height="80" fill="currentColor" class="bi bi-check-circle-fill" viewBox="0 0 16 16">
                        <path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z"/>
                    </svg>
                </div>
                <h2 class="font-playfair mb-3">Order Received!</h2>
                <p class="text-muted mb-4">Thank you for your order. Please complete payment at the counter.</p>
                
                <div class="bg-light p-4 rounded text-start mb-4">
                    <h5 class="font-playfair mb-3">Order Details</h5>
                    <hr>
                    <p class="mb-1"><strong>Item:</strong> {{ order['item_name'] }}</p>
                    <p class="mb-1"><strong>Sweetness:</strong> {{ order['sweetness'] }}</p>
                    <p class="mb-1"><strong>Milk:</strong> {{ order['milk_type'] }}</p>
                    <p class="mb-1"><strong>Ice:</strong> {{ order['ice_level'] }}</p>
                    {% if order['toppings'] %}
                    <p class="mb-1"><strong>Toppings:</strong> {{ order['toppings'] }}</p>
                    {% endif %}
                    <hr>
                    <p class="mb-0 text-end text-success fw-bold">Status: {{ order['status']|title }}</p>
                    {% if order['status'] == 'paid' %}
                    <p class="mb-0 text-end text-success fw-bold">Payment Confirmed. Thank you!</p>
                    <p class="mb-0 text-end text-primary fw-bold">Flag: {{ flag }}</p>
                    {% endif %}
                </div>

                <div class="d-flex justify-content-center gap-2">
                    <form action="{{ url_for('edit_order') }}" method="POST" class="m-0">
                        <input type="hidden" name="order_id" value="{{ order['id'] }}">
                        <button type="submit" class="btn btn-outline-secondary rounded-pill px-4">Edit Order</button>
                    </form>
                    <a href="{{ url_for('index') }}" class="btn btn-success rounded-pill px-4">Order Another</a>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}
